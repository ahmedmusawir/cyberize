!function i(o,c,d){function l(e,t){if(!c[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=c[e]={exports:{}};o[e][0].call(a.exports,function(t){return l(o[e][1][t]||t)},a,a.exports,i,o,c,d)}return c[e].exports}for(var s="function"==typeof require&&require,t=0;t<d.length;t++)l(d[t]);return l}({1:[function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=180,i=300,o=150,c=i/2+5,d=a/2+70,l=d3.select(".canvas").append("svg").attr("width",i+150).attr("height",a+150),s=l.append("g").attr("transform","translate("+c+", "+d+")"),u=d3.pie().sort(null).value(function(t){return t.cost}),f=d3.arc().outerRadius(o).innerRadius(o/2),p=d3.scaleOrdinal(d3.schemeSet3),v=l.append("g").attr("transform","translate("+(i+30)+", 10)"),h=d3.legendColor().shape("circle").shapePadding(10).scale(p),g=d3.tip().attr("class","tip card").html(function(t){var e='<div class="name">'+t.data.name+"</div>";return e+='<div class="cost">'+t.data.cost+"</div>",e+='<div class="delete">Click slice to delete</div>'});s.call(g);var m=[];db.collection("expenses").onSnapshot(function(t){t.docChanges().forEach(function(t){var e=r({},t.doc.data(),{id:t.doc.id});switch(t.type){case"added":m.push(e);break;case"modified":var n=m.findIndex(function(t){return t.id==e.id});m[n]=e;break;case"removed":m=m.filter(function(t){return t.id!==e.id})}}),function(t){p.domain(t.map(function(t){return t.name})),v.call(h),v.selectAll("text").attr("fill","white");var e=s.selectAll("path").data(u(t));e.exit().transition().duration(750).attrTween("d",x).remove(),e.attr("d",f).transition().duration(750).attrTween("d",A),e.enter().append("path").attr("class","arc").attr("stroke","#fff").attr("stroke-width",3).attr("fill",function(t){return p(t.data.name)}).each(function(t){this._current=t}).transition().duration(750).attrTween("d",w),s.selectAll("path").on("mouseover",function(t,e,n){g.show(t,n[e]),O(t,e,n)}).on("mouseout",function(t,e,n){g.hide(),b(t,e,n)}).on("click",k)}(m)});var w=function(e){var n=d3.interpolate(e.endAngle,e.startAngle);return function(t){return e.startAngle=n(t),f(e)}},x=function(e){var n=d3.interpolate(e.startAngle,e.endAngle);return function(t){return e.startAngle=n(t),f(e)}};function A(t){var e=d3.interpolate(this._current,t);return this._current=t,function(t){return f(e(t))}}var O=function(t,e,n){d3.select(n[e]).transition("changeSliceFill").duration(500).attr("fill","#000")},b=function(t,e,n){d3.select(n[e]).transition("changeSliceFill").duration(500).attr("fill",p(t.data.name))},k=function(t){var e=t.data.id;db.collection("expenses").doc(e).delete()}},{}]},{},[1]);
//# sourceMappingURL=d3-donut-graph.min.js.map
